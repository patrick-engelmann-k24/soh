<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_0csmsqq" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.5.0">
  <bpmn:process id="OrderItemFulfillmentProcess" name="Orderitem fulfillment process" isExecutable="true" camunda:isStartableInTasklist="false">
    <bpmn:startEvent id="eventStartOrderItemFulfillmentProcess" name="Order item received">
      <bpmn:extensionElements>
        <camunda:executionListener expression="${execution.setVariableLocal(&#39;trackingIdReceived&#39;,false)}" event="start" />
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_1vsuxx8</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:endEvent id="eventOrderItemFulfillmentProcessFinished" name="Order item delivered">
      <bpmn:incoming>Flow_0pptdh1</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:intermediateCatchEvent id="eventItemTransmittedToLogistics" name="Item transmitted to logistics">
      <bpmn:incoming>Flow_1vsuxx8</bpmn:incoming>
      <bpmn:outgoing>Flow_1mjw1ko</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1bszp8h" messageRef="Message_0n0an90" />
    </bpmn:intermediateCatchEvent>
    <bpmn:intermediateCatchEvent id="eventTrackingIdReceived" name="TrackingID received">
      <bpmn:incoming>Flow_0i51he6</bpmn:incoming>
      <bpmn:outgoing>Flow_17aezh1</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1e30n7k" messageRef="Message_09xa7xb" />
    </bpmn:intermediateCatchEvent>
    <bpmn:intermediateCatchEvent id="eventPackingStarted" name="Packing started">
      <bpmn:incoming>Flow_1j8lgbb</bpmn:incoming>
      <bpmn:outgoing>Flow_0i51he6</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1g1vwlv" messageRef="Message_182v5lz" />
    </bpmn:intermediateCatchEvent>
    <bpmn:subProcess id="subProcessOrderItemCancellationShipment" triggeredByEvent="true">
      <bpmn:exclusiveGateway id="gwXORCancellationPossible" name="Cancellation possible?">
        <bpmn:incoming>Flow_0mea46a</bpmn:incoming>
        <bpmn:outgoing>Flow_0f8i3w6</bpmn:outgoing>
        <bpmn:outgoing>Flow_13ibsm9</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:endEvent id="eventOrderItemShipmentNotHandled" name="Cancellation not handled">
        <bpmn:incoming>Flow_0f8i3w6</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:startEvent id="eventMsgShipmentCancellationReceived" name="Possible order row cancellation received" isInterrupting="false">
        <bpmn:outgoing>Flow_05u4xge</bpmn:outgoing>
        <bpmn:messageEventDefinition id="MessageEventDefinition_06a9137" messageRef="Message_0co8mn0" />
      </bpmn:startEvent>
      <bpmn:endEvent id="eventOrderItemShipmentCancelled" name="Cancellation handled">
        <bpmn:incoming>Flow_0360u8p</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_0mea46a" sourceRef="activityCheckCancellationPossible" targetRef="gwXORCancellationPossible" />
      <bpmn:sequenceFlow id="Flow_0f8i3w6" name="No" sourceRef="gwXORCancellationPossible" targetRef="eventOrderItemShipmentNotHandled">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${not itemCancellationPossible}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_0360u8p" sourceRef="activityHandleCancellationShipment" targetRef="eventOrderItemShipmentCancelled" />
      <bpmn:sequenceFlow id="Flow_13ibsm9" name="Yes" sourceRef="gwXORCancellationPossible" targetRef="activityHandleCancellationShipment">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${itemCancellationPossible}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_05u4xge" sourceRef="eventMsgShipmentCancellationReceived" targetRef="activityCheckCancellationPossible" />
      <bpmn:serviceTask id="activityHandleCancellationShipment" name="Handle cancellation" camunda:delegateExpression="${handleOrderItemCancellation}">
        <bpmn:incoming>Flow_13ibsm9</bpmn:incoming>
        <bpmn:outgoing>Flow_0360u8p</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:serviceTask id="activityCheckCancellationPossible" name="Check cancellation possible" camunda:delegateExpression="${checkItemCancellationPossible}">
        <bpmn:incoming>Flow_05u4xge</bpmn:incoming>
        <bpmn:outgoing>Flow_0mea46a</bpmn:outgoing>
      </bpmn:serviceTask>
    </bpmn:subProcess>
    <bpmn:exclusiveGateway id="gwXORShipmentMethod" name="Shipment-Method?">
      <bpmn:incoming>Flow_1mjw1ko</bpmn:incoming>
      <bpmn:outgoing>Flow_1j8lgbb</bpmn:outgoing>
      <bpmn:outgoing>Flow_0hihgm6</bpmn:outgoing>
      <bpmn:outgoing>Flow_1mddwth</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:intermediateCatchEvent id="eventTourStarted" name="Tour started">
      <bpmn:incoming>Flow_0hihgm6</bpmn:incoming>
      <bpmn:outgoing>Flow_10ytpqn</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_059q0mw" messageRef="Message_1aauexh" />
    </bpmn:intermediateCatchEvent>
    <bpmn:intermediateCatchEvent id="eventItemPreparedForPickUp" name="Item prepared for pick up">
      <bpmn:incoming>Flow_1mddwth</bpmn:incoming>
      <bpmn:outgoing>Flow_1tbhmax</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_18qu3us" messageRef="Message_1ovkcsz" />
    </bpmn:intermediateCatchEvent>
    <bpmn:intermediateCatchEvent id="eventItemPickedUp" name="Item picked up">
      <bpmn:incoming>Flow_1tbhmax</bpmn:incoming>
      <bpmn:outgoing>Flow_0dsacdf</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_0t1hlm6" messageRef="Message_1l6w1xj" />
    </bpmn:intermediateCatchEvent>
    <bpmn:exclusiveGateway id="gwXORTourStarted">
      <bpmn:incoming>Flow_10ytpqn</bpmn:incoming>
      <bpmn:incoming>Flow_1vg64vz</bpmn:incoming>
      <bpmn:outgoing>Flow_0ya2mbr</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:subProcess id="subProcessOrderItemDeliveryAddressChange" triggeredByEvent="true">
      <bpmn:startEvent id="eventMsgDeliveryAddressChange" name="Delivery address change" isInterrupting="false">
        <bpmn:outgoing>Flow_0qzv6af</bpmn:outgoing>
        <bpmn:messageEventDefinition id="MessageEventDefinition_0zb2zu8" messageRef="Message_1sm0n67" />
      </bpmn:startEvent>
      <bpmn:exclusiveGateway id="gwXORDeliveryAdressChangePossible" name="Change possible?">
        <bpmn:incoming>Flow_1eflki8</bpmn:incoming>
        <bpmn:outgoing>Flow_1deyyx2</bpmn:outgoing>
        <bpmn:outgoing>Flow_0o27d4k</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:endEvent id="eventDeliveryAddressNotChanged" name="Address not changed">
        <bpmn:incoming>Flow_1deyyx2</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:endEvent id="eventDeliveryAddressChanged" name="Delivery Address changed">
        <bpmn:incoming>Flow_1y311on</bpmn:incoming>
        <bpmn:messageEventDefinition id="MessageEventDefinition_05vn07l" camunda:delegateExpression="${deliveryAddressChangedDelegate}" />
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_1deyyx2" name="No" sourceRef="gwXORDeliveryAdressChangePossible" targetRef="eventDeliveryAddressNotChanged">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${not deliveryAddressChangePossible}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_1y311on" sourceRef="activityChangeDeliveryAddress" targetRef="eventDeliveryAddressChanged" />
      <bpmn:sequenceFlow id="Flow_0o27d4k" name="Yes" sourceRef="gwXORDeliveryAdressChangePossible" targetRef="activityChangeDeliveryAddress">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${deliveryAddressChangePossible}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_1eflki8" sourceRef="activityCheckDeliveryAddressChangePossible" targetRef="gwXORDeliveryAdressChangePossible" />
      <bpmn:sequenceFlow id="Flow_0qzv6af" sourceRef="eventMsgDeliveryAddressChange" targetRef="activityCheckDeliveryAddressChangePossible" />
      <bpmn:serviceTask id="activityChangeDeliveryAddress" name="Change delivery address" camunda:delegateExpression="${changeDeliveryAddress}">
        <bpmn:incoming>Flow_0o27d4k</bpmn:incoming>
        <bpmn:outgoing>Flow_1y311on</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:serviceTask id="activityCheckDeliveryAddressChangePossible" name="Check change possible" camunda:delegateExpression="${checkItemChangePossible}">
        <bpmn:incoming>Flow_0qzv6af</bpmn:incoming>
        <bpmn:outgoing>Flow_1eflki8</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:textAnnotation id="TextAnnotation_0tz7azp">
        <bpmn:text>Parcel: only before "Packing started"
Own delivery: only before "Tour started"
Pickup: n/a</bpmn:text>
      </bpmn:textAnnotation>
      <bpmn:association id="Association_0h6k50a" sourceRef="activityCheckDeliveryAddressChangePossible" targetRef="TextAnnotation_0tz7azp" />
    </bpmn:subProcess>
    <bpmn:subProcess id="subProcessHandleOrderItemCancellation" triggeredByEvent="true">
      <bpmn:endEvent id="eventOrderItemCancelled" name="Order item cancelled">
        <bpmn:incoming>Flow_1acb332</bpmn:incoming>
        <bpmn:messageEventDefinition id="MessageEventDefinition_113l560" camunda:delegateExpression="${orderItemCancelledDelegate}" />
      </bpmn:endEvent>
      <bpmn:startEvent id="eventOrderItemCancellationReceived" name="Order Item cancellation received">
        <bpmn:outgoing>Flow_1acb332</bpmn:outgoing>
        <bpmn:conditionalEventDefinition id="ConditionalEventDefinition_0novxw8" camunda:variableName="itemCancelled" camunda:variableEvents="create">
          <bpmn:condition xsi:type="bpmn:tFormalExpression">${itemCancelled}</bpmn:condition>
        </bpmn:conditionalEventDefinition>
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="Flow_1acb332" sourceRef="eventOrderItemCancellationReceived" targetRef="eventOrderItemCancelled" />
    </bpmn:subProcess>
    <bpmn:sequenceFlow id="Flow_1vsuxx8" sourceRef="eventStartOrderItemFulfillmentProcess" targetRef="eventItemTransmittedToLogistics" />
    <bpmn:sequenceFlow id="Flow_0dsacdf" sourceRef="eventItemPickedUp" targetRef="gwXORClickAndCollect" />
    <bpmn:sequenceFlow id="Flow_1mjw1ko" sourceRef="eventItemTransmittedToLogistics" targetRef="gwXORShipmentMethod" />
    <bpmn:sequenceFlow id="Flow_17aezh1" sourceRef="eventTrackingIdReceived" targetRef="itemShipped" />
    <bpmn:sequenceFlow id="Flow_0ya2mbr" sourceRef="gwXORTourStarted" targetRef="gwXORClickAndCollect" />
    <bpmn:sequenceFlow id="Flow_1j8lgbb" name="Regular &#38; Express" sourceRef="gwXORShipmentMethod" targetRef="eventPackingStarted">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${shipmentMethod == "shipment_regular" || shipmentMethod == "shipment_express"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0i51he6" sourceRef="eventPackingStarted" targetRef="eventTrackingIdReceived" />
    <bpmn:sequenceFlow id="Flow_0hihgm6" name="Own delivery" sourceRef="gwXORShipmentMethod" targetRef="eventTourStarted">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${shipmentMethod=="own_delivery"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1mddwth" name="Click &#38; Collect" sourceRef="gwXORShipmentMethod" targetRef="eventItemPreparedForPickUp">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${shipmentMethod=="click_collect"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_10ytpqn" sourceRef="eventTourStarted" targetRef="gwXORTourStarted" />
    <bpmn:sequenceFlow id="Flow_1tbhmax" sourceRef="eventItemPreparedForPickUp" targetRef="eventItemPickedUp" />
    <bpmn:exclusiveGateway id="gwXORClickAndCollect">
      <bpmn:incoming>Flow_0dsacdf</bpmn:incoming>
      <bpmn:incoming>Flow_0ya2mbr</bpmn:incoming>
      <bpmn:outgoing>Flow_0pptdh1</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0pptdh1" sourceRef="gwXORClickAndCollect" targetRef="eventOrderItemFulfillmentProcessFinished" />
    <bpmn:sequenceFlow id="Flow_1vg64vz" sourceRef="itemShipped" targetRef="gwXORTourStarted" />
    <bpmn:intermediateCatchEvent id="itemShipped" name="Item shipped">
      <bpmn:incoming>Flow_17aezh1</bpmn:incoming>
      <bpmn:outgoing>Flow_1vg64vz</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1a3zv9j" messageRef="Message_0bo9dny" />
    </bpmn:intermediateCatchEvent>
    <bpmn:subProcess id="Activity_0e0nrhj" triggeredByEvent="true">
      <bpmn:startEvent id="eventSignalReceiveOrderItemCancellation" name="Parent process order item cancellation received" isInterrupting="false">
        <bpmn:outgoing>Flow_16iumd1</bpmn:outgoing>
        <bpmn:signalEventDefinition id="SignalEventDefinition_0gfvgdf" signalRef="Signal_15vsfg9" />
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="Flow_16iumd1" sourceRef="eventSignalReceiveOrderItemCancellation" targetRef="activityCheckCancellationPossibleFromSignal" />
      <bpmn:exclusiveGateway id="Gateway_0xqp7vo" name="Cancellation possible?">
        <bpmn:incoming>Flow_1u7qyju</bpmn:incoming>
        <bpmn:outgoing>Flow_06ujgit</bpmn:outgoing>
        <bpmn:outgoing>Flow_0kok7l1</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="Flow_1u7qyju" sourceRef="activityCheckCancellationPossibleFromSignal" targetRef="Gateway_0xqp7vo" />
      <bpmn:sequenceFlow id="Flow_06ujgit" name="Yes" sourceRef="Gateway_0xqp7vo" targetRef="activityHandleCancellationShipmentFromSignal">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${itemCancellationPossible}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:endEvent id="Event_1m24bil" name="Cancellation handled">
        <bpmn:incoming>Flow_0wudkgu</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_0wudkgu" sourceRef="activityHandleCancellationShipmentFromSignal" targetRef="Event_1m24bil" />
      <bpmn:serviceTask id="activityHandleCancellationShipmentFromSignal" name="Handle cancellation" camunda:delegateExpression="${handleOrderItemCancellation}">
        <bpmn:incoming>Flow_06ujgit</bpmn:incoming>
        <bpmn:outgoing>Flow_0wudkgu</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:serviceTask id="activityCheckCancellationPossibleFromSignal" name="Check cancellation possible" camunda:delegateExpression="${checkItemCancellationPossible}">
        <bpmn:incoming>Flow_16iumd1</bpmn:incoming>
        <bpmn:outgoing>Flow_1u7qyju</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:endEvent id="Event_170pyxo" name="Cancellation not handled">
        <bpmn:incoming>Flow_0kok7l1</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_0kok7l1" name="No" sourceRef="Gateway_0xqp7vo" targetRef="Event_170pyxo">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${not itemCancellationPossible}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
    </bpmn:subProcess>
    <bpmn:textAnnotation id="TextAnnotation_0jme5a7">
      <bpmn:text>Batch creation in fullfilment</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_1ndclh1">
      <bpmn:text>Parcel: only before "TrackingID received"Â 
Own delivery: only before "Item delivered"
Pickup: only before "Item picked up"</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_16xng25" sourceRef="eventItemTransmittedToLogistics" targetRef="TextAnnotation_0jme5a7" />
    <bpmn:association id="Association_0u183io" sourceRef="activityCheckCancellationPossible" targetRef="TextAnnotation_1ndclh1" />
  </bpmn:process>
  <bpmn:message id="Message_0n0an90" name="msgItemTransmittedToLogistics" />
  <bpmn:message id="Message_09xa7xb" name="msgTrackingIdReceived" />
  <bpmn:message id="Message_0d2fkb0" name="msgItemDelivered" />
  <bpmn:message id="Message_182v5lz" name="msgPackingStarted" />
  <bpmn:message id="Message_1aauexh" name="msgTourStarted" />
  <bpmn:message id="Message_1ovkcsz" name="msgItemPrepared" />
  <bpmn:message id="Message_1l6w1xj" name="msgItemPickedUp" />
  <bpmn:message id="Message_0co8mn0" name="msgOrderItemCancellationReceived" />
  <bpmn:escalation id="Escalation_16iqo54" name="escalationOrderCancelled" escalationCode="1234567890" />
  <bpmn:message id="Message_0qa8492" name="msgDropshipmentCancellationReceived" />
  <bpmn:escalation id="Escalation_09qfsfl" name="escalationOrderCancelled" escalationCode="1234567890" />
  <bpmn:message id="Message_1sm0n67" name="msgDeliveryAddressChange" />
  <bpmn:message id="Message_0bo9dny" name="msgItemShipped" />
  <bpmn:signal id="Signal_15vsfg9" name="signalReceiveOrderItemCancellation" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="OrderItemFulfillmentProcess">
      <bpmndi:BPMNEdge id="Flow_1vg64vz_di" bpmnElement="Flow_1vg64vz">
        <di:waypoint x="768" y="180" />
        <di:waypoint x="825" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0pptdh1_di" bpmnElement="Flow_0pptdh1">
        <di:waypoint x="1065" y="180" />
        <di:waypoint x="1172" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1tbhmax_di" bpmnElement="Flow_1tbhmax">
        <di:waypoint x="668" y="370" />
        <di:waypoint x="832" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10ytpqn_di" bpmnElement="Flow_10ytpqn">
        <di:waypoint x="668" y="290" />
        <di:waypoint x="850" y="290" />
        <di:waypoint x="850" y="205" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1mddwth_di" bpmnElement="Flow_1mddwth">
        <di:waypoint x="450" y="205" />
        <di:waypoint x="450" y="370" />
        <di:waypoint x="632" y="370" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="469" y="352" width="71" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0hihgm6_di" bpmnElement="Flow_0hihgm6">
        <di:waypoint x="450" y="205" />
        <di:waypoint x="450" y="290" />
        <di:waypoint x="632" y="290" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="472" y="273" width="64" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0i51he6_di" bpmnElement="Flow_0i51he6">
        <di:waypoint x="572" y="180" />
        <di:waypoint x="632" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1j8lgbb_di" bpmnElement="Flow_1j8lgbb">
        <di:waypoint x="475" y="180" />
        <di:waypoint x="536" y="180" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="482" y="146" width="49" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ya2mbr_di" bpmnElement="Flow_0ya2mbr">
        <di:waypoint x="875" y="180" />
        <di:waypoint x="1015" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_17aezh1_di" bpmnElement="Flow_17aezh1">
        <di:waypoint x="668" y="180" />
        <di:waypoint x="732" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1mjw1ko_di" bpmnElement="Flow_1mjw1ko">
        <di:waypoint x="368" y="180" />
        <di:waypoint x="425" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0dsacdf_di" bpmnElement="Flow_0dsacdf">
        <di:waypoint x="868" y="370" />
        <di:waypoint x="1040" y="370" />
        <di:waypoint x="1040" y="205" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1vsuxx8_di" bpmnElement="Flow_1vsuxx8">
        <di:waypoint x="288" y="180" />
        <di:waypoint x="332" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_1wtixd7_di" bpmnElement="eventStartOrderItemFulfillmentProcess">
        <dc:Bounds x="252" y="162" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="245" y="205" width="52" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0s8tnw6_di" bpmnElement="eventOrderItemFulfillmentProcessFinished">
        <dc:Bounds x="1172" y="162" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1165" y="205" width="52" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1naphn8_di" bpmnElement="eventItemTransmittedToLogistics">
        <dc:Bounds x="332" y="162" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="313" y="205" width="79" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_12dpnsq_di" bpmnElement="eventTrackingIdReceived">
        <dc:Bounds x="632" y="162" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="624" y="205" width="53" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0s4cdbw_di" bpmnElement="eventPackingStarted">
        <dc:Bounds x="536" y="162" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="517" y="205" width="76" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0yx3m7q_di" bpmnElement="subProcessOrderItemCancellationShipment" isExpanded="true">
        <dc:Bounds x="190" y="500" width="638" height="280" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_05u4xge_di" bpmnElement="Flow_05u4xge">
        <di:waypoint x="258" y="620" />
        <di:waypoint x="340" y="620" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13ibsm9_di" bpmnElement="Flow_13ibsm9">
        <di:waypoint x="515" y="620" />
        <di:waypoint x="580" y="620" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="542" y="602" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0360u8p_di" bpmnElement="Flow_0360u8p">
        <di:waypoint x="680" y="620" />
        <di:waypoint x="762" y="620" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0f8i3w6_di" bpmnElement="Flow_0f8i3w6">
        <di:waypoint x="490" y="645" />
        <di:waypoint x="490" y="700" />
        <di:waypoint x="762" y="700" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="498" y="669" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0mea46a_di" bpmnElement="Flow_0mea46a">
        <di:waypoint x="440" y="620" />
        <di:waypoint x="465" y="620" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Gateway_0iua3fd_di" bpmnElement="gwXORCancellationPossible" isMarkerVisible="true">
        <dc:Bounds x="465" y="595" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="460" y="571" width="61" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1dwscv1_di" bpmnElement="eventOrderItemShipmentNotHandled">
        <dc:Bounds x="762" y="682" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="741" y="725" width="79" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0ukdtbc_di" bpmnElement="eventOrderItemShipmentCancelled">
        <dc:Bounds x="762" y="602" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="751" y="645" width="61" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_14ctbwd_di" bpmnElement="activityHandleCancellationShipment">
        <dc:Bounds x="580" y="580" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1dvh9m7_di" bpmnElement="activityCheckCancellationPossible">
        <dc:Bounds x="340" y="580" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_17o77dv_di" bpmnElement="eventMsgShipmentCancellationReceived">
        <dc:Bounds x="222" y="602" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="202" y="645" width="79" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0ivluh2_di" bpmnElement="gwXORShipmentMethod" isMarkerVisible="true">
        <dc:Bounds x="425" y="155" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="394" y="136" width="51" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_055vm0y_di" bpmnElement="eventTourStarted">
        <dc:Bounds x="632" y="272" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="621" y="315" width="59" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1dxt2jg_di" bpmnElement="eventItemPreparedForPickUp">
        <dc:Bounds x="632" y="352" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="609" y="395" width="85" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_12enofr_di" bpmnElement="eventItemPickedUp">
        <dc:Bounds x="832" y="352" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="815" y="395" width="72" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_01vbda1_di" bpmnElement="gwXORTourStarted" isMarkerVisible="true">
        <dc:Bounds x="825" y="155" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1r18tfj_di" bpmnElement="subProcessOrderItemDeliveryAddressChange" isExpanded="true">
        <dc:Bounds x="880" y="690" width="520" height="240" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0qzv6af_di" bpmnElement="Flow_0qzv6af">
        <di:waypoint x="948" y="750" />
        <di:waypoint x="990" y="750" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1eflki8_di" bpmnElement="Flow_1eflki8">
        <di:waypoint x="1090" y="750" />
        <di:waypoint x="1115" y="750" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0o27d4k_di" bpmnElement="Flow_0o27d4k">
        <di:waypoint x="1165" y="750" />
        <di:waypoint x="1200" y="750" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1174" y="732" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1y311on_di" bpmnElement="Flow_1y311on">
        <di:waypoint x="1300" y="750" />
        <di:waypoint x="1332" y="750" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1deyyx2_di" bpmnElement="Flow_1deyyx2">
        <di:waypoint x="1140" y="775" />
        <di:waypoint x="1140" y="830" />
        <di:waypoint x="1332" y="830" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1148" y="798" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_0bn87xt_di" bpmnElement="eventMsgDeliveryAddressChange">
        <dc:Bounds x="912" y="732" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="890" y="775" width="82" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0vmruk0_di" bpmnElement="gwXORDeliveryAdressChangePossible" isMarkerVisible="true">
        <dc:Bounds x="1115" y="725" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1095" y="701" width="89" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_16bgfup_di" bpmnElement="eventDeliveryAddressNotChanged">
        <dc:Bounds x="1332" y="812" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1321" y="855" width="59" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0zelpn8_di" bpmnElement="eventDeliveryAddressChanged">
        <dc:Bounds x="1332" y="732" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1309" y="775" width="84" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_17mxuyj_di" bpmnElement="activityChangeDeliveryAddress">
        <dc:Bounds x="1200" y="710" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1idlusq_di" bpmnElement="activityCheckDeliveryAddressChangePossible">
        <dc:Bounds x="990" y="710" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0tz7azp_di" bpmnElement="TextAnnotation_0tz7azp">
        <dc:Bounds x="1040" y="850" width="240" height="54" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0h6k50a_di" bpmnElement="Association_0h6k50a">
        <di:waypoint x="1034" y="790" />
        <di:waypoint x="1062" y="850" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_0cc7wz1_di" bpmnElement="subProcessHandleOrderItemCancellation" isExpanded="true">
        <dc:Bounds x="880" y="500" width="350" height="170" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1acb332_di" bpmnElement="Flow_1acb332">
        <di:waypoint x="956" y="580" />
        <di:waypoint x="1092" y="580" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_05tljgf_di" bpmnElement="eventOrderItemCancelled">
        <dc:Bounds x="1092" y="562" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1084" y="605" width="52" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_057m79v_di" bpmnElement="eventOrderItemCancellationReceived">
        <dc:Bounds x="920" y="562" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="911" y="605" width="59" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0b3ilgy_di" bpmnElement="gwXORClickAndCollect" isMarkerVisible="true">
        <dc:Bounds x="1015" y="155" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_10vc6q0_di" bpmnElement="itemShipped">
        <dc:Bounds x="732" y="162" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="719" y="205" width="63" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0jme5a7_di" bpmnElement="TextAnnotation_0jme5a7">
        <dc:Bounds x="350" y="80" width="120" height="41" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1ndclh1_di" bpmnElement="TextAnnotation_1ndclh1">
        <dc:Bounds x="150" y="330" width="180" height="96" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_16xng25_di" bpmnElement="Association_16xng25">
        <di:waypoint x="359" y="165" />
        <di:waypoint x="385" y="121" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_0u183io_di" bpmnElement="Association_0u183io">
        <di:waypoint x="382" y="580" />
        <di:waypoint x="269" y="426" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_1i4jcop_di" bpmnElement="Activity_0e0nrhj" isExpanded="true">
        <dc:Bounds x="190" y="800" width="638" height="290" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_16iumd1_di" bpmnElement="Flow_16iumd1">
        <di:waypoint x="266" y="900" />
        <di:waypoint x="320" y="900" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1u7qyju_di" bpmnElement="Flow_1u7qyju">
        <di:waypoint x="420" y="900" />
        <di:waypoint x="475" y="900" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_06ujgit_di" bpmnElement="Flow_06ujgit">
        <di:waypoint x="525" y="900" />
        <di:waypoint x="580" y="900" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="544" y="882" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0wudkgu_di" bpmnElement="Flow_0wudkgu">
        <di:waypoint x="680" y="900" />
        <di:waypoint x="742" y="900" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0kok7l1_di" bpmnElement="Flow_0kok7l1">
        <di:waypoint x="500" y="925" />
        <di:waypoint x="500" y="1000" />
        <di:waypoint x="742" y="1000" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="508" y="960" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_0hih2l4_di" bpmnElement="eventSignalReceiveOrderItemCancellation">
        <dc:Bounds x="230" y="882" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="213" y="925" width="74" height="53" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0xqp7vo_di" bpmnElement="Gateway_0xqp7vo" isMarkerVisible="true">
        <dc:Bounds x="475" y="875" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="470" y="845" width="61" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1m24bil_di" bpmnElement="Event_1m24bil">
        <dc:Bounds x="742" y="882" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="730" y="925" width="61" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_13k8q5r_di" bpmnElement="activityHandleCancellationShipmentFromSignal">
        <dc:Bounds x="580" y="860" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1b3c3sm_di" bpmnElement="activityCheckCancellationPossibleFromSignal">
        <dc:Bounds x="320" y="860" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_170pyxo_di" bpmnElement="Event_170pyxo">
        <dc:Bounds x="742" y="982" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="721" y="1025" width="79" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
